(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"35ca":function(e,t,r){"use strict";var n=r("758b");t["a"]={login:function(e){return Object(n["a"])().post("login",e)},register:function(e){return Object(n["a"])().post("register",e)},getUser:function(e){return Object(n["a"])().get("user",{headers:{Authorization:e.token}})},hasPermiss:function(e){return Object(n["a"])().get("permiss/"+e.type+"/"+e.id,{headers:{Authorization:e.token}})}}},"868f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",[r("div",{staticClass:"row"},[r("div",{staticClass:"login col-md-4 col-xs-10"},[r("center",[r("img",{attrs:{src:"logo.png"}})]),r("q-form",{on:{submit:e.register}},[r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"orange",filled:"",label:"Nombre",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"account_circle",color:"primary"}})]},proxy:!0}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("br"),r("q-input",{attrs:{type:"email",color:"grey-3","bg-color":"white","label-color":"orange",filled:"",label:"Correo",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"mail",color:"primary"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("br"),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"orange",filled:"",type:e.isPwd?"password":"text",label:"Clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("q-input",{attrs:{color:"grey-3","bg-color":"white","label-color":"orange",filled:"",type:e.isPwd2?"password":"text",label:"Repite tu clave",required:"",rules:[function(e){return!!e||"Este campo es necesario"}]},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{color:"primary",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}]),model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),r("br"),r("q-btn",{staticClass:"full-width",attrs:{color:"primary",type:"submit",label:"Register"}})],1)],1)])])],1)},a=[],o=(r("b0c0"),r("96cf"),r("c973")),i=r.n(o),s=r("35ca"),c=r("9f21"),l={name:"RegisterLayout",mixins:[c["a"]],data:function(){return{name:"",email:"",password:"",isPwd:!0,password2:"",isPwd2:!0}},methods:{register:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password!==e.password2){t.next=14;break}return t.prev=1,t.next=4,s["a"].register({name:e.name,email:e.email,password:e.password});case 4:r=t.sent,n=r.data,!0===n.register?(e.alert("positive","Cuenta creada correctamente"),e.goTo("login")):e.alert("negative","Error al registrarse"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.alert("negative","Error al registrarse");case 12:t.next=15;break;case 14:e.alert("negative","Las claves no coinciden");case 15:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},u=l,p=r("2877"),d=r("4d5a"),f=r("09e3"),m=r("0378"),g=r("27f9"),w=r("0016"),b=r("9c40"),y=r("eebe"),h=r.n(y),v=Object(p["a"])(u,n,a,!1,null,null,null);t["default"]=v.exports;h()(v,"components",{QLayout:d["a"],QPageContainer:f["a"],QForm:m["a"],QInput:g["a"],QIcon:w["a"],QBtn:b["a"]})},"9f21":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("96cf");var n=r("c973"),a=r.n(n),o=r("cf57"),i=r("4515"),s=r("35ca"),c={data:function(){return{}},methods:{getPermiss:function(e,t){return a()(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s["a"].hasPermiss({type:e,id:t,token:localStorage.getItem("token")});case 2:return n=r.sent,r.abrupt("return",n.data.permiss);case 4:case"end":return r.stop()}}),r)})))()},alert:function(e,t){this.$q.notify({type:e,message:t})},goTo:function(e){this.$router.push("/"+e).catch((function(e){e._name}))},logout:function(){this.$session.destroy(),location.href="/login"},getToken:function(e){return e.token_type+" "+e.token},activateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={message:e};1===t?r.spinner=o["a"]:2===t&&(r.spinner=i["a"]),this.$q.loading.show(r)},disableLoading:function(){this.$q.loading.hide()}}}}}]);